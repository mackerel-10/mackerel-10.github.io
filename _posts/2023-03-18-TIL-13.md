---
layout: post
title: "TIL #13"
categories:
  - Today I Learned
tags:
  - Javascript
date: '2023-03-18'
---


## Execution Context & Lexical Environment(실행 컨텍스트와 렉시컬 환경)
실행 컨텍스트는 2개의 과정으로 나뉘어져 있다.
소스 코드의 **평가**와 **실행** 과정으로 나누어 처리한다(듣고 있던 강의에서는 평가 과정을 생성 과정이라고 표현해, 강의 후 Deep Dive 책을 참고한 상황이라 첨에는 이해가 안됐다.).

**평가 과정**에서는 실행 컨텍스트를 생성하고 변수, 함수등에 대한 정보를 실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)에 저장해준다.
함수나 변수의 선언이 `key`, 이에 대해 정의된 값을 `value`라고 하면 렉시컬 환경은 이 `key`와 `value`를 저장하는 자료구조라고 이해하면 된다.
또한, `let`, `const`와 다르게 `var`로 변수를 선언해주면 변수의 값은 **평가 과정**에서 `undefined`로 초기화가 된다.

**평가 과정**이 끝나게 되면 순차적으로 실행이 되기 시작한다.
**실행 과정**에서는 실행에 필요한 정보, 즉 변수와 함수에 대한 정보를 렉시컬 환경에서 읽어와 참조한다.
이를 통해 우리가 변수의 값을 올바르게 읽어와서 사용할 수 있는것이다.
또한, 변수 값의 변경 등 실행 중의 변동 사항은 렉시컬 환경에 등록되게 된다.

렉시컬 환경은 두개의 컴포넌트로 구성이 되는데, **환경 레코드(Environment Record)**와 **외부 렉시컬 환경에 대한 참조(Outer Lexical Environment Reference)**이다.
환경 레코드는 위에서 말했듯이 key와 value를 저장하는데 사용이 된다.
외부 렉시컬 환경에 대한 참조는 현재 스코프의 상위 스코를 가리키게 된다.
즉, 현재 실행 컨텍스트를 생성한 상위 코드의 렉시컬 환경을 의미하게 된다.


---
## Reference
- 모던 자바스크립트 Deep Dive (이웅모 지음, 위키북스)
