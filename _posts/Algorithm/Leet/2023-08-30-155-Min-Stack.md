---
layout: post
title: '155. Min Stack'
category:
  - Algorithm
tags:
  - JavaScript
  - Leet Code
date: '2023-08-30T14:50:00+09:00'
---

## [ğŸ”—](https://leetcode.com/problems/min-stack/description/?envType=study-plan-v2&envId=top-interview-150) ë¬¸ì œ

> **Medium**
>
> Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.
> Implement theÂ MinStackÂ class:
>
> - MinStack()Â initializes the stack object.
> - void push(int val)Â pushes the elementÂ valÂ onto the stack.
> - void pop()Â removes the element on the top of the stack.
> - int top()Â gets the top element of the stack.
> - int getMin()Â retrieves the minimum element in the stack.
>
> You must implement a solution withÂ O(1)Â time complexity for each function.

### í’€ì´ë²•

```javascript
var MinStack = function () {
  // ì´ ë¶€ë¶„ì— ëŒ€í•œ ê¶ê¸ˆì¦
  // ìƒì„±ìì˜€ë‹¤.
};

/**
 * @param {number} val
 * @return {void}
 */
MinStack.prototype.push = function (val) {};

/**
 * @return {void}
 */
MinStack.prototype.pop = function () {};

/**
 * @return {number}
 */
MinStack.prototype.top = function () {};

/**
 * @return {number}
 */
MinStack.prototype.getMin = function () {};

/**
 * Your MinStack object will be instantiated and called as such:
 * var obj = new MinStack()
 * obj.push(val)
 * obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.getMin()
 */
```

ì‚¬ì‹¤, ì œê³µí•´ì£¼ëŠ” ê¸°ë³¸ ì½”ë“œë¶€í„° ì´í•´ë¥¼ í•˜ì§€ ëª»í–ˆë‹¤. ì•„ë˜ ì£¼ì„ì²˜ë¦¬ëœ ì˜ˆì œì½”ë“œë¥¼ í™•ì¸í•´ë³´ë©´, `obj`ëŠ” `new MinStack()`ì´ë¼ê³  ì •ì˜ë¥¼ í•´ì£¼ê³  ìˆë‹¤. ì´ ì½”ë“œë¥¼ í†µí•´ì„œ `MinStack`ì€ ê°ì²´(í´ë˜ìŠ¤)ì„ì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ, ì²«ë²ˆì§¸ ì¤„ì˜ `var MinStack = function () {}`ì´ í•¨ìˆ˜ëŠ” ëŒ€ì²´ ë¬´ì—‡ì¸ê°€ì— ëŒ€í•œ ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤. ì´ì „ì— ê°ì²´ì§€í–¥ì„ ì ‘í–ˆì„ ë•Œ ì£¼ë¡œ `class`ë¥¼ ì•ì— ë¶™ì¸ í˜•ì‹ìœ¼ë¡œ ì ‘í•´ì„œ ê·¸ëŸ°ì§€ ì´ `function()`ì´ `MinStack`ì— ëŒ€í•œ ìƒì„±ìì„ì„ ëˆˆì¹˜ì±„ì§€ ëª»í–ˆë‹¤. ë˜í•œ, í›„ì˜ ì½”ë“œì— ë‚˜ì˜¤ëŠ” `prototype`ì— ëŒ€í•œ ì´í•´ë„ë„ ë¶€ì¡±í•´ ì´ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ê²Œ ëë‹¤.

ê¸°ì¡´ì— ìš°ë¦¬ê°€ `class`ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì. `class`ë¥¼ ì„¤ê³„í• ë•Œ, ì‚¬ìš©í•  í”„ë¡œí¼í‹°ì™€ ë©”ì†Œë“œë¥¼ ì •ì˜ë¥¼ í•˜ê²Œ ë˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ë©´ ê° ì¸ìŠ¤í„´ìŠ¤ëŠ” ì •ì˜ëœ í”„ë¡œí¼í‹°ì™€ ë©”ì†Œë“œë¥¼ ëª¨ë‘ ê°–ê²Œ ëœë‹¤. `prototype`ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µ ì†Œìœ ëœ ë©”ì„œë“œë¥¼ ì œê±°í•˜ê³ , ë¶€ëª¨ ê°ì²´ë¡œë¶€í„° ìƒì†ë°›ì•„ í•˜ë‚˜ì˜ ë©”ì†Œë“œë¥¼ ê³µìœ í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, `obj`ì—ì„œ `prototype`ìœ¼ë¡œ ì •ì˜í•´ì¤€ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.

```javascript
var MinStack = function () {
  this.stack = [];
};

/**
 * @param {number} val
 * @return {void}
 */
MinStack.prototype.push = function (val) {
  if (this.stack.length === 0) {
    this.stack.push({ val, min: val });
  } else {
    let min = Math.min(val, this.stack[this.stack.length - 1].min);
    this.stack.push({ val, min });
  }
};

/**
 * @return {void}
 */
MinStack.prototype.pop = function () {
  if (this.stack.length > 0) {
    this.stack.pop();
  }
};

/**
 * @return {number}
 */
MinStack.prototype.top = function () {
  if (this.stack.length > 0) {
    return this.stack[this.stack.length - 1].val;
  }
};

/**
 * @return {number}
 */
MinStack.prototype.getMin = function () {
  return this.stack[this.stack.length - 1].min;
};

/**
 * Your MinStack object will be instantiated and called as such:
 * var obj = new MinStack()
 * obj.push(val)
 * obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.getMin()
 */
```

JSì—ì„œ ë°°ì—´ì´ ê°–ê³  ìˆëŠ” ë‚´ì¥ ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ `push`, `pop`ì„ êµ¬í˜„í–ˆë‹¤. ì´ ë¬¸ì œì˜ í•µì‹¬ì¸ `min`ê°’ì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ ë°°ì—´ì˜ ê° ì¸ë±ìŠ¤ì—ì„œ ì¶”ê°€í•  `val`ì™€ í˜„ì¬ê¹Œì§€ì˜ ìµœì†Œê°’(`min`)ì„ ë„£ì–´ì£¼ì—ˆë‹¤. ì²˜ìŒì—” ë°°ì—´(`[val, min]`)ë¡œ êµ¬í˜„í•˜ë ¤ê³  í–ˆë‹¤ê°€ ê°€ë…ì„±ì„ ìœ„í•´ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

```javascript
val = this.stack[this.stack.length - 1][0];
min = this.stack[this.stack.length - 1][1];
```

ë§Œì•½ ê°ì²´ë¡œ ê°’ì„ í‘œí˜„í•´ì£¼ì§€ ì•Šì•˜ë‹¤ë©´ ì´ë ‡ê²Œ ì¸ë±ìŠ¤ê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì´í•´í•˜ê¸° í˜ë“  ì½”ë“œê°€ ëì„ê±°ë‹¤.

### ë‹¤ë¥¸ í•´ê²°ë²•

ë‹¤ë“¤ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ë§ì´ í‘¼ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ë‹¤ë¥¸ í•´ê²°ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤.

```javascript
class MinStack {
  constructor() {
    this._top = -1;
    this.data = [];
    this.min = Number.MAX_SAFE_INTEGER;
  }
  push(n) {
    this.data[++this._top] = this.min;
    this.data[++this._top] = n;
    n < this.min && (this.min = n);
  }
  pop() {
    this.min = this.data[--this._top];
    --this._top;
  }
  top() {
    return this.data[this._top];
  }
  getMin() {
    return this.min;
  }
}
```

ë‚´ì¥ ë©”ì„œë“œì¸ `pop`ê³¼ `push`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  `top`ì— ëŒ€í•œ í”„ë¡œí¼í‹°ë¥¼ í•˜ë‚˜ ë” ìƒì„±í•˜ì—¬ ê´€ë¦¬í•˜ê³  ìˆë‹¤. ì´ ë¬¸ì œë¥¼ ì²˜ìŒ ì ‘ê·¼í• ë•Œ, ë‚´ì¥ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë²•ì— ëŒ€í•´ ê³ ë ¤í–ˆì§€ë§Œ `pop`ì„ êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë§‰í˜€ì„œ ë‚´ì¥ ë©”ì„œë“œë¥¼ ì‚¬ìš©í–ˆì—ˆë‹¤. ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ë‚´ì¥ ë©”ì„œë“œë¥¼ í™œìš©í•˜ì§€ ì•Šê³ ë„ êµ¬í˜„í•  ìˆ˜ ìˆìŒì„ ì•Œê²Œ ëë‹¤.

---

### Reference

- ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive(ì´ì›…ëª¨ ì§€ìŒ, ìœ„í‚¤ë¶ìŠ¤)
