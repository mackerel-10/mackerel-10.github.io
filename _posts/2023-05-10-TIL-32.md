---
layout: post
title: 'TIL #32'
category:
  - Today I Learned
tags:
  - Project
date: '2023-05-10T18:07:00'
---

## 프로젝트 회고록

2주간의 프로젝트가 끝났다. 프로젝트에서 구현한 기능과 이론적으로 더 공부해야할 점에 대해 정리를 해봤다.

### 프로젝트에서 구현한 기능

- 기본 기능
  - dotenv를 사용해 .env 안의 환경변수 적용
  - nodemon과 npm을 사용해 실행 script와 package 관리
  - http 요청/응답에 대한 로그를 작성해주는 로거 추가
  - error-handler 전용 class(customError)와 로직 작성
- JWT(사용자 인증)
  - 로그인시 유효한 사용자인지 확인 후 유저 정보를 기반으로 한 JWT 생성
  - 서버에서 DB를 가져올 때 미들웨어로 유효한 토큰이 있는지 확인 후 DB 전송
  - 로그아웃시 토큰 삭제
- 주문 내역
  - payment API에서 post 요청이 오면 DB에 저장하고 저장한 DB 다시 보내 줄 수 있게 구현
  - mypage에서 유저 \_id로 find를 해 유저가 주문한 order DB를 get하게 구현
  - 주문 상세 페이지에 들어갔을 때 해당 주문에 대한 상세 DB를 get하게 구현
  - 유효한 사용자가 있어야지 사용할 수 있는 기능이라 미들웨어로 항상 Token 확인
- 배포
  - pm2와 NginX를 사용해 배포
  - NginX를 이용해 80번 포트로 들어오는 요청을 5000번 포트로 프록시
  - express 서버는 5000 포트와 연결돼 있으며, listen 할 시 host를 NginX에 설정돼있는 127.0.0.1로 설정하여 서버가 있는 로컬 IP에서만 접근이 가능하게 설정
- views 연결
  - 작성한 html, css, js를 express.static을 사용해 정적파일로 전송

### 공부해야할 점

- **Request Validation**
  Node.js에서는 2가지 라이브러리를 많이 사용한다.

  1. Joi
  2. Express-validator

  2가지를 사용하는 법에 대해 학습할 필요성을 느꼈다.

- **RESTful API**
  이번 프로젝트에서 코드리뷰에서도 발표에서도 지적을 받은 부분이다. API의 경로가 RESTful하지 않다는 것. 이에 대해 공부가 필히 필요한 부분이다.

- **API 문서화(Swagger, Postman)**
  이번 프로젝트 진행시 API에 대한 문서화가 진행되지 않아, 프론트엔드와 백엔드 간에 지속적인 소통이 필요했다(req를 어떻게 보내야하는지에 대해서 계속 얘기를 했어야 했다.). Swagger와 Postman과 같은 API 문서화 도구가 있으니, 꼭 사용할 필요성을 느꼈다.
  좋은 개발자는 문서화를 잘하는 개발자이다.

- **Sentry**
  500에러가 떴을때 어떤 부분에 문제가 있어서 발생했는지 자세한 정보를 받아볼 수 있다. 보통 슬랙과 연동해서 사용을 한다고 들었다.

- **CI/CD**
  아직 해당 개념에 대해 모르지만 학습할 필요성을 느꼈다.
  대략적으로 CI는 개발자들이 작성한 코드를 자동으로 통합하는 과정이고, CD는 CI 이후에 발생하는 과정으로 애플리케이션을 지속적으로 릴리스하고 배포하는 것을 의미한다고 한다.

- **응답 코드에 대한 공부**
  성공적으로 응답할때나, 에러가 발생할때 응답코드를 어떻게 보내줘야 하는지 아직도 많이 헷갈려서 공부가 필요하다.

- **DB: 하드 딜리트와 소프트 딜리트**
  코드리뷰시 하드 딜리트와 소프트 딜리트에 대한 조언을 들었다. 이에 대해서 공부를 하고 다음 프로젝트시 적용하는 것이 좋을것 같다.

공부하면 할수록 부족한 점이 많이 보인다. 현재는 개발적인 부분도 중요하지만, 이론적인 부분을 채워나가는게 중요하다고 느껴진다.
